function level5init(){function e(){var e='<div class="level5grid abs_center">';for(i=0;i<d.length;++i)for(j=0;j<d[i].length;++j)e+='<div class="level5box" data-x="'+i+'" data-y="'+j+'">'+d[i][j]+"</div>";e+="</div>",$("#level5").html(e)}function a(){var e=$(".level5box.sel"),a=e.data("x"),l=e.data("y"),t=[$('.level5box[data-x="'+a+'"][data-y="'+(l-1)+'"]')[0],$('.level5box[data-x="'+(a+1)+'"][data-y="'+l+'"]')[0],$('.level5box[data-x="'+a+'"][data-y="'+(l+1)+'"]')[0],$('.level5box[data-x="'+(a-1)+'"][data-y="'+l+'"]')[0]];for(i=0;i<t.length;++i)if(!$(t[i]).hasClass("visited")&&(r+1)%3==parseInt($(t[i]).html())%3)return!0;return!1}function l(){a()||(void 0==$(".level5box:not(.visited)")[0]?n():s())}function t(e,a){var t=Math.abs($(e).data("x")-$(a).data("x")),i=Math.abs($(e).data("y")-$(a).data("y"));1==t&&0==i||0==t&&1==i?($(e).removeClass("sel"),$(a).addClass("visited sel"),l()):(--r,alert("not neightbor"))}function s(){alert("You lost. Try Again!"),level5init()}function n(){r==o*v&&submit_ans("win",9),alert("win")}var d=[[3,2,1,3,2,1,3,1,3],[1,2,3,3,1,2,2,2,2],[3,2,1,2,1,3,1,3,1],[3,1,2,2,3,1,1,2,3],[2,1,3,1,1,2,3,2,1],[2,3,1,3,2,3,1,2,3],[1,3,2,2,3,1,2,3,1],[1,2,3,1,1,3,3,2,2],[3,2,1,3,2,2,1,1,3]],o=d.length,v=d[0].length,r=0;e(),$(".level5box").click(function(){++r,r%3!=parseInt($(this).html())%3||$(this).hasClass("visited")?(alert("can only click in order 1..2...3 or it is already selected"),--r):r>1?t($(".level5box.sel")[0],this):($(".level5box.sel").removeClass("sel"),$(this).addClass("visited sel"))})}